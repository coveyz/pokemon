const question = `ç»™å®šå­—ç¬¦ä¸² s å’Œ t ï¼Œåˆ¤æ–­ s æ˜¯å¦ä¸º t çš„å­åºåˆ—ã€‚
ä½ å¯ä»¥è®¤ä¸º s å’Œ t ä¸­ä»…åŒ…å«è‹±æ–‡å°å†™å­—æ¯ã€‚å­—ç¬¦ä¸² t å¯èƒ½ä¼šå¾ˆé•¿ï¼ˆé•¿åº¦ ~= 500,000ï¼‰ï¼Œè€Œ s æ˜¯ä¸ªçŸ­å­—ç¬¦ä¸²ï¼ˆé•¿åº¦ <=100ï¼‰ã€‚
å­—ç¬¦ä¸²çš„ä¸€ä¸ªå­åºåˆ—æ˜¯åŸå§‹å­—ç¬¦ä¸²åˆ é™¤ä¸€äº›ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ï¼‰å­—ç¬¦è€Œä¸æ”¹å˜å‰©ä½™å­—ç¬¦ç›¸å¯¹ä½ç½®å½¢æˆçš„æ–°å­—ç¬¦ä¸²ã€‚ï¼ˆä¾‹å¦‚ï¼Œ"ace"æ˜¯"abcde"çš„ä¸€ä¸ªå­åºåˆ—ï¼Œè€Œ"aec"ä¸æ˜¯ï¼‰ã€‚`;

const isSubsequence = (s, t) => {
	if (s === '') return true;
	const sStack = s.split('');
	const tStack = t.split('');
	while (tStack.length > 0) {
		let tlastItem = tStack.pop(); // tStackæœ€å ä¸€é¡¹ç›®
		if (tlastItem === sStack[sStack.length - 1]) {
			sStack.pop();
			if (sStack.length === 0) return true;
		}
	}
	return false;
};

/**
 ** åŒæŒ‡é’ˆ
 * @param {string} s
 * @param {string} t
 * @return {boolean}
 */
var isSubsequence2 = function (s, t) {
	const m = t.length,
		n = s.length;
	let index = 0,
		key = 0;

	while (index < m && key < n) {
    console.log('s.charAt(key)=>', s.charAt(key))
		if (s.charAt(key) === t.charAt(index)) {
			key++;
		}
		index++;
	}
	console.log('m', m, 'n', n, 'index', index, 'key=>', key);
	return key === n;
};


/**
 * @param {string} s
 * @param {string} t
 * @return {boolean}
 */
var isSubsequence3 = function (s, t) {
	const map = new Map();

	for(let index = 0; index < t.length; index++ ) {
		const element = t[index];
		if (!map.has(element)) {
			map.set(element, []);
		}
		map.get(element).push(index);
	}

	let prePos = -1;
	
	for(char of s) {
		if (!map.has(char)) return false;

		const position = map.get(char);
		let left = 0, right = position.length - 1;

		while(left <= right) {
			const middle = Math.floor((left + right)/ 2);
			if (position[middle] <= prePos) {
				left = middle + 1;
			} else {
				right = middle - 1;
			}
		}

		if (left === position.length) return false;

		prePos = position[left];
	}

	return true;
};

/**
 ** åŒæŒ‡é’ˆ / è´ªå¿ƒ
 * @param {string} s
 * @param {string} t
 * @return {boolean}
 */
var isSubsequence4 = function(s, t) {
    let i = 0; // sçš„æŒ‡é’ˆ
    for (let j = 0; j < t.length && i < s.length; j++) {
        if (s[i] === t[j]) {
            i++;
        }
    }
    return i === s.length;
};



/*
ğŸ¯ LeetCode 392. åˆ¤æ–­å­åºåˆ— - åŠ¨æ€è§„åˆ’å®Œå…¨ç†è§£

ğŸ” === é—®é¢˜ç†è§£ ===
åˆ¤æ–­å­—ç¬¦ä¸² s æ˜¯å¦æ˜¯å­—ç¬¦ä¸² t çš„å­åºåˆ—
ğŸ“ å­åºåˆ—ï¼šä¿æŒç›¸å¯¹é¡ºåºï¼Œä½†ä¸éœ€è¦è¿ç»­

ğŸ’¡ ä¾‹å¦‚ï¼šs = "abc", t = "aebdc"
ğŸ§  äººå·¥æ€è€ƒï¼š
1. ğŸ” æ‰¾ 'a'ï¼šåœ¨ "aebdc" çš„ä½ç½®0æ‰¾åˆ° 'a'
2. ğŸ” æ‰¾ 'b'ï¼šåœ¨ä½ç½®0ä¹‹åï¼Œåœ¨ä½ç½®2æ‰¾åˆ° 'b'  
3. ğŸ” æ‰¾ 'c'ï¼šåœ¨ä½ç½®2ä¹‹åï¼Œåœ¨ä½ç½®4æ‰¾åˆ° 'c'
4. âœ… æ‰€æœ‰å­—ç¬¦éƒ½æ‰¾åˆ°äº† â†’ æ˜¯å­åºåˆ—

ğŸ§© === DPçš„ç›´è§‚ç†è§£ ===
ğŸ’­ DPå°±æ˜¯æŠŠäººå·¥æ€è€ƒè¿‡ç¨‹"è¡¨æ ¼åŒ–"ï¼

ğŸ“Š ç”¨äºŒç»´è¡¨æ ¼è®°å½•ï¼šdp[i][j] = sçš„å‰iä¸ªå­—ç¬¦ æ˜¯å¦æ˜¯ tçš„å‰jä¸ªå­—ç¬¦ çš„å­åºåˆ—

ğŸŒ° ä¾‹å¦‚ï¼šs = "abc", t = "aebdc"
- dp[1][2] è¡¨ç¤ºï¼š"a" æ˜¯å¦æ˜¯ "ae" çš„å­åºåˆ—ï¼Ÿ â†’ âœ… true
- dp[2][3] è¡¨ç¤ºï¼š"ab" æ˜¯å¦æ˜¯ "aeb" çš„å­åºåˆ—ï¼Ÿ â†’ âœ… true  
- dp[3][5] è¡¨ç¤ºï¼š"abc" æ˜¯å¦æ˜¯ "aebdc" çš„å­åºåˆ—ï¼Ÿ â†’ âœ… true

ğŸ“‹ === é€æ­¥å¡«è¡¨æ¼”ç¤º ===

ğŸ“‹ === é€æ­¥å¡«è¡¨æ¼”ç¤º ===

ğŸš€ ç¬¬1æ­¥ï¼šåˆå§‹åŒ–ï¼ˆæ˜¾è€Œæ˜“è§çš„ç­”æ¡ˆï¼‰
ğŸ’¡ ç©ºå­—ç¬¦ä¸²("")æ€»æ˜¯ä»»ä½•å­—ç¬¦ä¸²çš„å­åºåˆ—ï¼Œæ‰€ä»¥ç¬¬ä¸€è¡Œå…¨æ˜¯ trueï¼š

        ""   a   e   b   d   c
    ""   T   T   T   T   T   T  â† ğŸ”‘ ç©ºä¸²æ˜¯ä»»ä½•ä¸²çš„å­åºåˆ—
    a    ?   ?   ?   ?   ?   ?
    b    ?   ?   ?   ?   ?   ?
    c    ?   ?   ?   ?   ?   ?

ğŸ“ ç¬¬2æ­¥ï¼šå¡« "a" è¿™ä¸€è¡Œ
â“ é—®ï¼šå­—ç¬¦ä¸² "a" æ˜¯å¦æ˜¯å„ç§å‰ç¼€çš„å­åºåˆ—ï¼Ÿ
- "a" æ˜¯ "" çš„å­åºåˆ—å—ï¼Ÿ â†’ âŒ Fï¼ˆéç©ºä¸²ä¸èƒ½æ˜¯ç©ºä¸²çš„å­åºåˆ—ï¼‰
- "a" æ˜¯ "a" çš„å­åºåˆ—å—ï¼Ÿ â†’ âœ… Tï¼ˆå®Œå…¨åŒ¹é…ï¼‰
- "a" æ˜¯ "ae" çš„å­åºåˆ—å—ï¼Ÿ â†’ âœ… Tï¼ˆåŒ…å«aï¼‰
- åé¢éƒ½æ˜¯ âœ… T...

        ""   a   e   b   d   c
    ""   T   T   T   T   T   T
    a    F   T   T   T   T   T  â† ğŸŸ¢ "a"å¯ä»¥åœ¨"a","ae","aeb"ç­‰ä¸­æ‰¾åˆ°
    b    ?   ?   ?   ?   ?   ?
    c    ?   ?   ?   ?   ?   ?

ğŸ“ ç¬¬3æ­¥ï¼šå¡« "ab" è¿™ä¸€è¡Œ  
â“ é—®ï¼šå­—ç¬¦ä¸² "ab" æ˜¯å¦æ˜¯å„ç§å‰ç¼€çš„å­åºåˆ—ï¼Ÿ
- "ab" æ˜¯ "" çš„å­åºåˆ—å—ï¼Ÿ â†’ âŒ F
- "ab" æ˜¯ "a" çš„å­åºåˆ—å—ï¼Ÿ â†’ âŒ Fï¼ˆåªæœ‰aï¼Œæ²¡æœ‰bï¼‰
- "ab" æ˜¯ "ae" çš„å­åºåˆ—å—ï¼Ÿ â†’ âŒ Fï¼ˆæ²¡æœ‰bï¼‰
- "ab" æ˜¯ "aeb" çš„å­åºåˆ—å—ï¼Ÿ â†’ âœ… Tï¼ˆæœ‰aå’Œbï¼Œé¡ºåºæ­£ç¡®ï¼‰
- åé¢éƒ½æ˜¯ âœ… T...

        ""   a   e   b   d   c
    ""   T   T   T   T   T   T
    a    F   T   T   T   T   T
    b    F   F   F   T   T   T  â† ğŸ”µ "ab"éœ€è¦åˆ°"aeb"æ‰èƒ½å®Œå…¨åŒ¹é…
    c    ?   ?   ?   ?   ?   ?

ğŸ“ ç¬¬4æ­¥ï¼šå¡« "abc" è¿™ä¸€è¡Œ
â“ é—®ï¼šå­—ç¬¦ä¸² "abc" æ˜¯å¦æ˜¯å„ç§å‰ç¼€çš„å­åºåˆ—ï¼Ÿ
å‰é¢å‡ ä¸ªæ˜¾ç„¶éƒ½æ˜¯ âŒ Fï¼Œç›´åˆ° "aebdc" æ‰æ˜¯ âœ… T

        ""   a   e   b   d   c
    ""   T   T   T   T   T   T
    a    F   T   T   T   T   T
    b    F   F   F   T   T   T
    c    F   F   F   F   F   T  â† ğŸŸ¡ "abc"éœ€è¦å®Œæ•´çš„"aebdc"æ‰èƒ½åŒ¹é…

âš¡ === çŠ¶æ€è½¬ç§»è§„å¾‹æ€»ç»“ ===
ğŸ” è§‚å¯Ÿå¡«è¡¨è¿‡ç¨‹ï¼Œå‘ç°è§„å¾‹ï¼š

1. ğŸ¯ å¦‚æœå½“å‰å­—ç¬¦åŒ¹é…ï¼šçœ‹"å·¦ä¸Šè§’"çš„ç»“æœ
   ğŸ’¡ ä¾‹å¦‚ï¼šåˆ¤æ–­"ab"æ˜¯å¦æ˜¯"aeb"çš„å­åºåˆ—æ—¶ï¼Œå‘ç°b=båŒ¹é…ï¼Œ
   å°±çœ‹"aæ˜¯å¦æ˜¯aeçš„å­åºåˆ—"

2. ğŸ¯ å¦‚æœå½“å‰å­—ç¬¦ä¸åŒ¹é…ï¼šçœ‹"å·¦è¾¹"çš„ç»“æœ  
   ğŸ’¡ ä¾‹å¦‚ï¼šåˆ¤æ–­"ab"æ˜¯å¦æ˜¯"ae"çš„å­åºåˆ—æ—¶ï¼Œå‘ç°bâ‰ eï¼Œ
   å°±çœ‹"abæ˜¯å¦æ˜¯açš„å­åºåˆ—"

ğŸ§® === çŠ¶æ€è½¬ç§»æ–¹ç¨‹ ===
if (s[i-1] === t[j-1]) {
    dp[i][j] = dp[i-1][j-1];  // â¬…â†– å­—ç¬¦åŒ¹é…ï¼Œçœ‹å·¦ä¸Šè§’ï¼ˆä¸¤ä¸ªéƒ½å¾€å‰é€€ä¸€æ­¥ï¼‰
} else {
    dp[i][j] = dp[i][j-1];    // â¬… å­—ç¬¦ä¸åŒ¹é…ï¼Œçœ‹å·¦è¾¹ï¼ˆåªæœ‰tå¾€å‰é€€ä¸€æ­¥ï¼‰
}

ğŸ === è¾¹ç•Œæ¡ä»¶ ===
dp[0][j] = true;  // ğŸ”‘ ç©ºå­—ç¬¦ä¸²æ˜¯ä»»æ„å­—ç¬¦ä¸²çš„å­åºåˆ—

ğŸ­ === è®°å¿†å£è¯€ ===
- âœ… åŒ¹é…äº†ï¼šä¸¤ä¸ªéƒ½å¾€å‰é€€ä¸€æ­¥ï¼ˆçœ‹å·¦ä¸Šè§’ â¬…â†–ï¼‰
- âŒ æ²¡åŒ¹é…ï¼šåªæœ‰tå¾€å‰é€€ä¸€æ­¥ï¼ˆçœ‹å·¦è¾¹ â¬…ï¼‰
- ğŸ¯ æœ€ç»ˆç­”æ¡ˆï¼šdp[m][n]

ğŸ“Š === ç®—æ³•å¯¹æ¯” ===
ğŸš€ åŒæŒ‡é’ˆ/è´ªå¿ƒï¼šO(m+n) æ—¶é—´ï¼ŒO(1) ç©ºé—´ - æœ€ä¼˜è§£
ğŸ§© äºŒç»´DPï¼šO(mÃ—n) æ—¶é—´ï¼ŒO(mÃ—n) ç©ºé—´ - å¸®åŠ©ç†è§£é—®é¢˜ç»“æ„
*/

/**
 ** åŠ¨æ€è§„åˆ’
 * @param {string} s
 * @param {string} t
 * @return {boolean}
 */
var isSubsequence5 = function(s, t) {
    const m = s.length, n = t.length;

    const dp = Array(m + 1).fill().map(() => Array(n + 1).fill(false));

        // è¾¹ç•Œæ¡ä»¶ï¼šç©ºå­—ç¬¦ä¸²æ˜¯ä»»æ„å­—ç¬¦ä¸²çš„å­åºåˆ—
    for (let j = 0; j <= n; j++) {
        dp[0][j] = true;
    }

     for (let i = 1; i <= m; i++) {
        for (let j = 1; j <= n; j++) {
            console.log({ hangIndex: i, hang: dp[i], lieIndex: j, lie: dp[i][j]});

            if (s[i - 1] === t[j- 1]) {
                dp[i][j] = dp[i - 1][j - 1]; // å·¦ä¸Šè§’
            } else {
                dp[i][j] = dp[i][j - 1]; // å·¦è¾¹
            };
        }
    }


    return dp[m][n];
};

console.log(isSubsequence2('abc', 'ahbgdc'));
